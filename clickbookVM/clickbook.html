<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<title>欢聚点读书</title>
	<meta name="ROBOTS" content="none">
    <meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta content="application/xhtml+xml;charset=UTF-8" http-equiv="Content-Type"/>
    <!--清除浏览器缓存-->
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="Cache-Control" content="no-cache, must-revalidate">
    <link rel="stylesheet" type="text/css" href="navclick/css/click.css">
    <script id="DS_PRE_JS" type="text/javascript" src="http://cdn.datastory.com.cn/js/pre-ds-min.js?dsTid=7e691257-7feb-4552-a2a2-8f1c8957b1c2"></script>
    <script type="text/javascript" src='navclick/js/jquery-3.0.0.min.js'></script>  
</head>
<body>
    <div class="nav">
        <ul class="nav-list">
            <li id="nav1" class="nav-item"><a href="#a01" id="a1" onclick="change(1)">爆款热书</a></li>
            <li id="nav2" class="nav-item"><a href="#a02" id="a2" onclick="change(2)">词量爆表</a></li>
            <li id="nav3" class="nav-item"><a href="#a03" id="a3" onclick="change(3)">紧急应试</a></li>
            <li id="nav4" class="nav-item"><a href="#a04" id="a4" onclick="change(4)">口语提升</a></li>
            <li id="nav5" class="nav-item"><a href="#a05" id="a5" onclick="change(5)">实用小语种</a></li>
            <li id="nav6" class="nav-item"><a href="#a06" id="a6" onclick="change(6)">趣味读物</a></li>
            <li id="nav7" class="nav-item"><a href="#a07" id="a7" onclick="change(7)">巧练发音</a></li>
            <li id="nav8" class="nav-item"><a href="#a08" id="a8" onclick="change(8)">能听会写</a></li>
            <li id="nav9" class="nav-item"><a href="#a09" id="a9" onclick="change(9)">快乐启蒙</a></li>
        </ul>
    </div>
    <div id="in" class="all" >
        <div id="coupon-btn" class="float-coupon-box">
            <img id="btn2" class="float-btn" src="navclick/images/coupon-btn.png" style="opacity: 1">
        </div>
        <div id="top-btn" class="float-btn-box">
            <img id="btn1" class="float-btn" src="navclick/images/top-btn.png" style="opacity: 0.6">
        </div>
    	<div id="header" class="img-box">
        <div id="first" class="img-box"><img class="background-img" src="navclick/images/first.png"></div>
        <div id="second" class="img-box"><img class="background-img" src="navclick/images/head.png"></div>    
    	</div>
    	<div id="body" class="img-box">
            <a name="a01" id="a01"></a>
            <div id="ban1" class="img-box"><img  class="background-img" src="navclick/images/ban1.png"></div>
            <div class="img-box">
                <div class="img-box">
                   <img id="book1_1" class="background-img" src="navclick/images/book1-1.png">
                   <img id="buy1_1" class="bkbuy1" src="navclick/images/buy-btn1.png">
                </div>
                <div class="img-box">
                   <img id="book1_2" class="background-img" src="navclick/images/book1-2.png">
                   <img id="buy1_2" class="bkbuy2" src="navclick/images/buy-btn1.png">
                </div>
                <div class="img-box">
                   <img id="book1_3" class="background-img" src="navclick/images/book1-3.png">
                   <img id="buy1_3" class="bkbuy1" src="navclick/images/buy-btn1.png">
                </div>
                <div class="img-box">
                   <img id="book1_4" class="background-img" src="navclick/images/book1-4.png">
                   <img id="buy1_4" class="bkbuy2" src="navclick/images/buy-btn1.png">
                </div>
                <div class="img-box">
                   <img id="book1_5" class="background-img" src="navclick/images/book1-5.png">
                   <img id="buy1_5" class="bkbuy1" src="navclick/images/buy-btn1.png">
                </div>
            </div>
            <a name="a02" id="a02"></a>
            <div id="ban2" class="img-box"><img  class="background-img" src="navclick/images/ban2.png"></div>
            <div class="img-box">
                <div class="img-box">
                    <img id="book2_1" class="book" src="navclick/images/book2-1.png" >
                    <img id="book2_2" class="book" src="navclick/images/book2-2.png" >
                    <img id="buy2_1" class="buy1" src="navclick/images/buy-btn2.png">
                    <img id="buy2_2" class="buy2" src="navclick/images/buy-btn2.png">   
                </div>
                <div class="img-box">
                    <img id="book2_3" class="book" src="navclick/images/book2-3.png" >
                    <img id="book2_4" class="book" src="navclick/images/book2-4.png" >
                    <img id="buy2_3" class="buy1" src="navclick/images/buy-btn2.png">
                       
                </div>
            </div> 
            <a name="a03" id="a03"></a>
            <div id="ban3" class="img-box"><img  class="background-img" src="navclick/images/ban3.png"></div>
            <div class="img-box">
                <div class="img-box">
                    <img id="book3_1" class="book" src="navclick/images/book3-1.png" >
                    <img id="book3_2" class="book" src="navclick/images/book3-2.png" >
                    <img id="buy3_1" class="buy1" src="navclick/images/buy-btn2.png">
                    <img id="buy3_2" class="buy2" src="navclick/images/buy-btn2.png">
                </div>
                <div class="img-box">
                    <img id="book3_3" class="book" src="navclick/images/book3-3.png" >
                    <img id="book3_4" class="book" src="navclick/images/book3-4.png" >
                    <img id="buy3_3" class="buy1" src="navclick/images/buy-btn2.png">
                    <img id="buy3_4" class="buy2" src="navclick/images/buy-btn2.png">
                </div>
                <div class="img-box">
                    <img id="book3_5" class="book" src="navclick/images/book3-5.png" >
                    <img id="book3_6" class="book" src="navclick/images/book3-6.png" >
                    <img id="buy3_5" class="buy1" src="navclick/images/buy-btn2.png">
                    <img id="buy3_6" class="buy2" src="navclick/images/buy-btn2.png">
                </div>
            </div>
            <a name="a04" id="a04"></a>
            <div id="ban4" class="img-box"><img  class="background-img" src="navclick/images/ban4.png"></div>
            <div class="img-box">
                <div class="img-box">
                    <img id="book4_1" class="book" src="navclick/images/book4-1.png" >
                    <img id="book4_2" class="book" src="navclick/images/book4-2.png" >
                    <img id="buy4_1" class="buy1" src="navclick/images/buy-btn2.png">
                    <img id="buy4_2" class="buy2" src="navclick/images/buy-btn2.png">
                </div>
                <div class="img-box">
                    <img id="book4_3" class="book" src="navclick/images/book4-3.png" >
                    <img id="book4_4" class="book" src="navclick/images/book4-4.png" >
                    <img id="buy4_3" class="buy1" src="navclick/images/buy-btn2.png">
                    <img id="buy4_4" class="buy2" src="navclick/images/buy-btn2.png">
                </div>
                <div class="img-box">
                    <img id="book4_5" class="book" src="navclick/images/book4-5.png" >
                    <img id="book4_6" class="book" src="navclick/images/book4-6.png" >
                    <img id="buy4_5" class="buy1" src="navclick/images/buy-btn2.png">
                    <img id="buy4_6" class="buy2" src="navclick/images/buy-btn2.png">
                </div>
                <div class="img-box">
                    <img id="book4_7" class="book" src="navclick/images/book4-7.png" >
                    <img id="book4_8" class="book" src="navclick/images/book4-8.png" >
                    <img id="buy4_7" class="buy1" src="navclick/images/buy-btn2.png">
                    <img id="buy4_8" class="buy2" src="navclick/images/buy-btn2.png">
                </div>
                <div class="img-box">
                    <img id="book4_9" class="book" src="navclick/images/book4-9.png" >
                    <img id="book4_10" class="book" src="navclick/images/book4-10.png" >
                    <img id="buy4_9" class="buy1" src="navclick/images/buy-btn2.png">
                    <img id="buy4_10" class="buy2" src="navclick/images/buy-btn2.png">
                </div>
            </div>
                
            <a name="a05" id="a05"></a>
            <div id="ban5" class="img-box"><img  class="background-img" src="navclick/images/ban5.png"></div>
            <div class="img-box">
                <div class="img-box">
                    <img id="book5_1" class="book" src="navclick/images/book5-1.png" >
                    <img id="book5_2" class="book" src="navclick/images/book5-2.png" >
                    <img id="buy5_1" class="buy1" src="navclick/images/buy-btn2.png">
                    <img id="buy5_2" class="buy2" src="navclick/images/buy-btn2.png">
                </div>
                <div class="img-box">
                    <img id="book5_3" class="book" src="navclick/images/book5-3.png" >
                    <img id="book5_4" class="book" src="navclick/images/book5-4.png" >
                    <img id="buy5_3" class="buy1" src="navclick/images/buy-btn2.png">
                    <img id="buy5_4" class="buy2" src="navclick/images/buy-btn2.png">
                </div>
                <div class="img-box">
                    <img id="book5_5" class="book" src="navclick/images/book5-5.png" >
                    <img id="book5_6" class="book" src="navclick/images/book5-6.png" >
                    <img id="buy5_5" class="buy1" src="navclick/images/buy-btn2.png">
                    <img id="buy5_6" class="buy2" src="navclick/images/buy-btn2.png">
                </div>
                <div class="img-box">
                    <img id="book5_7" class="book" src="navclick/images/book5-7.png" >
                    <img id="book5_8" class="book" src="navclick/images/book5-8.png" >
                    <img id="buy5_7" class="buy1" src="navclick/images/buy-btn2.png">
                    <img id="buy5_8" class="buy2" src="navclick/images/buy-btn2.png">
                </div>
                <div class="img-box">
                    <img id="book5_9" class="book" src="navclick/images/book5-9.png" >
                    <img id="book5_10" class="book" src="navclick/images/book5-10.png" >
                    <img id="buy5_9" class="buy1" src="navclick/images/buy-btn2.png">
                    <img id="buy5_10" class="buy2" src="navclick/images/buy-btn2.png">
                </div>
            </div>
            <a name="a06" id="a06"></a>
            <div id="ban6" class="img-box"><img  class="background-img" src="navclick/images/ban6.png"></div>
            <div class="img-box">
                <div class="img-box">
                    <img id="book6_1" class="book" src="navclick/images/book6-1.png" >
                    <img id="book6_2" class="book" src="navclick/images/book6-2.png" >
                    <img id="buy6_1" class="buy1" src="navclick/images/buy-btn2.png">
                    <img id="buy6_2" class="buy2" src="navclick/images/buy-btn2.png">
                </div>
                <div class="img-box">
                    <img id="book6_3" class="book" src="navclick/images/book6-3.png" >
                    <img id="book6_4" class="book" src="navclick/images/book6-4.png" >
                    <img id="buy6_3" class="buy1" src="navclick/images/buy-btn2.png">
                    
                </div>
            </div>
            <a name="a07" id="a07"></a>
            <div id="ban7" class="img-box"><img class="background-img" src="navclick/images/ban7.png"></div>
            <div class="img-box">
                <div class="img-box">
                    <img id="book7_1" class="book" src="navclick/images/book7-1.png" >
                    <img id="book7_2" class="book" src="navclick/images/book7-2.png" >
                    <img id="buy7_1" class="buy1" src="navclick/images/buy-btn2.png">
                    <img id="buy7_2" class="buy2" src="navclick/images/buy-btn2.png">
                </div>
                <div class="img-box">
                    <img id="book7_3" class="book" src="navclick/images/book7-3.png" >
                    <img id="book7_4" class="book" src="navclick/images/book7-4.png" >
                    <img id="buy7_3" class="buy1" src="navclick/images/buy-btn2.png">
                    <img id="buy7_4" class="buy2" src="navclick/images/buy-btn2.png">
                </div>
            </div>
            <a name="a08" id="a08"></a>
            <div id="ban8" class="img-box"><img class="background-img" src="navclick/images/ban8.png"></div>
            <div class="img-box">
                <div class="img-box">
                    <img id="book8_1" class="book" src="navclick/images/book8-1.png" >
                    <img id="book8_2" class="book" src="navclick/images/book8-2.png" >
                    <img id="buy8_1" class="buy1" src="navclick/images/buy-btn2.png">
                    <img id="buy8_2" class="buy2" src="navclick/images/buy-btn2.png">
                </div>
                <div class="img-box">
                    <img id="book8_3" class="book" src="navclick/images/book8-3.png" >
                    <img id="book8_4" class="book" src="navclick/images/book8-4.png" >
                    <img id="buy8_3" class="buy1" src="navclick/images/buy-btn2.png">
                    <img id="buy8_4" class="buy2" src="navclick/images/buy-btn2.png">
                </div>
            </div>
            <a name="a09" id="a09"></a>
            <div id="ban9" class="img-box"><img class="background-img" src="navclick/images/ban9.png"></div>
            <div class="img-box">
                <div class="img-box">
                    <img id="book9_1" class="book" src="navclick/images/book9-1.png" >
                    <img id="book9_2" class="book" src="navclick/images/book9-2.png" >
                    <img id="buy9_1" class="buy1" src="navclick/images/buy-btn2.png">
                    <img id="buy9_2" class="buy2" src="navclick/images/buy-btn2.png">
                </div>
                <div class="img-box">
                    <img id="book9_3" class="book" src="navclick/images/book9-3.png" >
                    <img id="book9_4" class="book" src="navclick/images/book9-4.png" >
                    <img id="buy9_3" class="buy1" src="navclick/images/buy-btn2.png">
                    <img id="buy9_4" class="buy2" src="navclick/images/buy-btn2.png">
                </div>
                <div class="img-box">
                    <img id="book9_5" class="book" src="navclick/images/book9-5.png" >
                    <img id="book9_6" class="book" src="navclick/images/book9-6.png" >
                    <img id="buy9_5" class="buy1" src="navclick/images/buy-btn2.png">
                    <img id="buy9_6" class="buy2" src="navclick/images/buy-btn2.png">
                </div>
                <div class="img-box">
                    <img id="book9_7" class="book" src="navclick/images/book9-7.png" >
                    <img id="book9_8" class="book" src="navclick/images/book9-8.png" >
                    <img id="buy9_7" class="buy1" src="navclick/images/buy-btn2.png">
                    <img id="buy9_8" class="buy2" src="navclick/images/buy-btn2.png">
                </div>
            </div>
        </div>  
        <div id="footer" class="img-box">
            <img  class="background-img" src="navclick/images/foot.png">
        </div>
    </div>
    <script type="text/javascript">
        //判断是否领取过红包
        function isget(){
            $.post("/h5Service/givenCouponCount.do?key=170113&code=001", function (result) {
            if(result.success == true && result.data.count ==0){
                document.getElementById('coupon-btn').style.display=block;
                return;
            }
            document.getElementById('coupon-btn').style.display='none';
            },"json");
        }
        window.onload=isget()
        //导航栏js
        var nav = document.querySelector('.nav');
        var list = document.querySelector('.nav-list');
        var items = Array.prototype.slice.call(document.querySelectorAll('.nav-item'));
        var itemWidth = items[0].offsetWidth;
        var listWidth = itemWidth * items.length;
        move(list, items, nav);     

        function move(list, items, container) {
            var listWidth = items[0].offsetWidth * items.length;
            var containerWidth = container.offsetWidth;
            list.style.width = listWidth + 'px';

            items.forEach(function(item) {
                item.addEventListener('click', function(){
                    toCenter(this, nav, listWidth);
                })
            });

            var startx = 0;
            var left;
            list.addEventListener('touchstart', function(ev){
                startX = ev.touches[0].clientX;
                left = getTransform(this).x;
                console.log('start')
            });

            list.addEventListener('touchmove', function(ev){
                var currentX = ev.touches[0].clientX;
                var diffX = Math.abs(currentX - startX);
                var scroll = currentX > startX ? left+diffX : left-diffX;   
                console.log('move: ',scroll)
                if (Math.abs(scroll) > listWidth - containerWidth || scroll >= 0) return;
                setTransition(this, 'transform 0ms');
                setTransform(this, {x: scroll, y: 0});
            });

            list.addEventListener('touchend', function(ev){
                console.log('end')
                setTransition(this, 'transform .3s');
            });

            function getTransform(el) {
                var reg = /\((.*?)\)/,
                    result = {};
                result.x = parseInt((getComputedStyle(el)['transform'] || getComputedStyle(el)['-webkit-transform']).match(reg)[1].split(',')[4]);
                result.y = parseInt((getComputedStyle(el)['transform'] || getComputedStyle(el)['-webkit-transform']).match(reg)[1].split(',')[5]);
                return result;
            }

            function setTransform(el, val) {
                var css = 'translate3d('+ val.x +'px, '+ val.y +'px, 0)',
                    style = el.style;
                style.transform = css;
            }

            function setTransition(el, val) {
                var style = el.style;
                style.transition = val;
            }

            function toCenter(target, container, maxWidth) {                
                var containerWidth = container.offsetWidth;
                var parentNode = target.parentNode;
                var maxLeft = maxWidth - containerWidth;
                var tabLeft = target.offsetLeft;
                var center = containerWidth/2 - target.offsetWidth/2;
                var moveWidth = 0;
                var transformLeft = Math.abs(getTransform(parentNode).x);
                if (tabLeft >= transformLeft) {
                    moveWidth = tabLeft - center;
                    moveWidth = moveWidth < 0 ? 0 : moveWidth;
                    setTransform(parentNode, {x: -Math.min(maxLeft, moveWidth), y: 0});
                } else if (tabLeft < transformLeft) {
                    moveWidth = tabLeft - center;
                    setTransform(parentNode, {x: -Math.max(moveWidth, 0), y: 0});
                }               
            }
        }
        //改变导航栏颜色
        function change(ids){
            for(var i=1;i<10;i++){
            $("#a"+i).css({"color":"white","font-size":"18px","background-color":"#FF0000"});
            $("#nav"+i).css({"color":"white","font-size":"18px","background-color":"#FF0000"});
            }
            $("#a"+ids).css({"color":"white","font-size":"20px","background-color":"#600000"});
            $("#nav"+ids).css({"color":"white","font-size":"20px","background-color":"#600000"});
        }
        //判断页面位置改变导航栏
        function select(){
            // console.log('body')
           if (document.getElementById("ban1").getBoundingClientRect().top<=225 && document.getElementById("ban2").getBoundingClientRect().top>=186 ) {
                change(1);
                $("#nav1").trigger("click");
                
            }
            else if (document.getElementById("ban2").getBoundingClientRect().top<=185 && document.getElementById("ban3").getBoundingClientRect().top>=186) {
                change(2);
                $("#nav2").trigger("click");
                
            }
            else if (document.getElementById("ban3").getBoundingClientRect().top<=185 && document.getElementById("ban4").getBoundingClientRect().top>=186 ) {
                 change(3);
                 $("#nav3").trigger("click");
                 
            }
            else if (document.getElementById("ban4").getBoundingClientRect().top<=185 && document.getElementById("ban5").getBoundingClientRect().top>=186) {
                change(4);
                $("#nav4").trigger("click");
                 
            }
            else if (document.getElementById("ban5").getBoundingClientRect().top<=185 && document.getElementById("ban6").getBoundingClientRect().top>=186 ) {
                change(5);
                $("#nav5").trigger("click");
                
                
            }
            else if (document.getElementById("ban6").getBoundingClientRect().top<=185 && document.getElementById("ban7").getBoundingClientRect().top>=186) {
                change(6);
                $("#nav6").trigger("click");
                
                
            }
            else if (document.getElementById("ban7").getBoundingClientRect().top<=185 && document.getElementById("ban8").getBoundingClientRect().top>=186) {
                change(7);
                $("#nav7").trigger("click");
                
                
            }
            else if (document.getElementById("ban8").getBoundingClientRect().top<=185 && document.getElementById("ban9").getBoundingClientRect().top>=186) {
                change(8);
                $("#nav8").trigger("click");
            }
            else if (document.getElementById("ban9").getBoundingClientRect().top<=185 ) {
                change(9);
                $("#nav9").trigger("click");
            }    
            else{change(0)};
            
        };
        //执行select()判断位置是否显示到顶部按钮
        function on(){
            select();
            var w=document.body.scrollHeight;
            var scr = document.getElementById('in').scrollTop;
            console.log('w:',w);
            if(scr>=w*1.7){
            document.getElementById("top-btn").style.display="block";
            } else{document.getElementById("top-btn").style.display="none";}
        };
        document.querySelector('#in').addEventListener('scroll',on);
    </script>
    <script type="text/javascript" src='navclick/js/click.js'></script> 
    
</body>
</html>